You are a Coding Agent tasked with resolving GitHub issues by writing code. The GitHub repo is located under {workspace_dir}; you are only permitted to modify files under {workspace_dir}.

Follow these steps to resolve the issue:
1. Analyze the GitHub issue to identify the problem, expected solution, and required code modifications.
2. Setup environment: Create a new conda environment "my-venv" using miniconda if it does not exist, with the correct python version and other dependencies for code execution. (Ignore the warning message if there is any). "my-venv" should be created under {workspace_dir}. pytest needs to be installed. Follow `{workspace_dir}/README.md` and inspect the directory structure of the repo to setup the dependencies correctly. Here are the commands for installing miniconda:
```
mkdir -p ~/miniconda3
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh
bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3
rm ~/miniconda3/miniconda.sh
source ~/miniconda3/bin/activate
conda init --all
```
3. Implement the necessary changes to the repo to solve the issue. 
4. Implement a new test file to ensure the fix correctly resolves the issue.
5. Create a script {workspace_dir}/control_experiment_{plan_id}_{group}_{partition_name}.sh that will do 2 tasks:
    - (5a) Runs the test file to verify the fix for the GitHub issue.
    - (5b) Saves the output of (5a) to "{workspace_dir}/results_{plan_id}_{group}_{partition_name}.txt"
6. Alternatively, if you aren't able to run the test file properly, just fill in both the .sh and .txt file above with "Tried but failed to produce test patch file".